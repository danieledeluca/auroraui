{"version":3,"file":"sparkle.js","sources":["../src/js/utilities.js","../src/js/classes/Navbar.js","../src/js/classes/Parallax.js"],"sourcesContent":["// =====================================================\n// Utilities\n// =====================================================\n\n// Utility classes\nexport const classes = {\n    activeClass: 'is-active',\n    navOpenClass: 'nav-open',\n    parentClass: 'is-parent',\n};\n\n// Breakpoints\nexport const breakpoints = {\n    sm: 576,\n    md: 768,\n    lg: 992,\n    xl: 1200,\n};\n\n/**\n * Check if is in mobile view\n *\n * @returns {Boolean}\n */\nexport function isMobile() {\n    return window.innerWidth < breakpoints.md;\n}\n\n/**\n * Prevent default behavior on click on empty links\n */\nexport function preventClickOnEmptyLinks() {\n    document.querySelectorAll('a[href=\"#\"]').forEach((emptyLink) => {\n        emptyLink.addEventListener('click', (e) => {\n            e.preventDefault();\n        });\n    });\n}\n","// =====================================================\n// Navbar class\n// =====================================================\n\nimport { classes, isMobile } from '../utilities';\n\nconst { activeClass, navOpenClass, parentClass } = classes;\n\nconst DATA_ATTRIBUTE = 'data-navbar';\nconst DEFAULT_OPTIONS = {\n    navbarItemClass: '.navbar__item',\n    navbarLinkClass: '.navbar__link',\n    navbarToggleClass: '.navbar__toggle',\n    hamburgerClass: '[class*=\"__hamburger\"]',\n};\n\nexport default class SparkleNavbar {\n    /**\n     * The default options\n     */\n    static options = DEFAULT_OPTIONS;\n\n    /**\n     * The Parallax constructor\n     *\n     * @param {HTMLElement} element\n     * @param {Object} options\n     */\n    constructor(element, options = {}) {\n        this.element = element;\n        this.options = {\n            ...SparkleNavbar.options,\n            ...options,\n            ...(JSON.parse(this.element.getAttribute(DATA_ATTRIBUTE)) || {}),\n        };\n\n        this.navbarItems = this.element.querySelectorAll(this.options.navbarItemClass);\n        this.navbarLinks = this.element.querySelectorAll(this.options.navbarLinkClass);\n        this.navbarToggles = this.element.querySelectorAll(this.options.navbarToggleClass);\n        this.hamburger = this.element.parentElement.querySelector(this.options.hamburgerClass);\n    }\n\n    /**\n     * Initialize the instance\n     */\n    mount() {\n        if (this.hamburger) {\n            this.hamburger.addEventListener('click', () => {\n                this.#toggleMenu();\n            });\n        }\n\n        this.navbarToggles.forEach((toggle) => {\n            toggle.addEventListener('click', () => {\n                this.#toggleSubmenu(toggle);\n            });\n        });\n\n        this.navbarLinks.forEach((link) => {\n            link.addEventListener('click', () => {\n                this.#handleLinkClick(link);\n            });\n        });\n\n        window.addEventListener('resize', () => {\n            if (isMobile()) return;\n\n            this.#closeMenu();\n        });\n    }\n\n    /**\n     * Toggle menu\n     */\n    #toggleMenu() {\n        document.documentElement.classList.toggle(navOpenClass);\n\n        if (!document.documentElement.classList.contains(navOpenClass)) {\n            this.#closeMenu();\n        }\n    }\n\n    /**\n     * Close menu\n     */\n    #closeMenu() {\n        document.documentElement.classList.remove(navOpenClass);\n\n        this.navbarItems.forEach((navbarItem) => {\n            if (navbarItem.classList.contains(activeClass)) {\n                navbarItem.classList.remove(activeClass);\n            }\n        });\n    }\n\n    /**\n     * Toggle submenu\n     *\n     * @param {HTMLElement} element\n     */\n    #toggleSubmenu(element) {\n        element.closest(this.options.navbarItemClass).classList.toggle(activeClass);\n    }\n\n    /**\n     * Handle link click\n     *\n     * @param {HTMLElement} link\n     */\n    #handleLinkClick(link) {\n        if (!isMobile()) return;\n\n        const navbarItem = link.closest(this.options.navbarItemClass);\n        const linkHref = link.getAttribute('href');\n\n        if (navbarItem.classList.contains(parentClass) && linkHref === '#') {\n            this.#toggleSubmenu(link);\n        } else {\n            this.#closeMenu();\n        }\n    }\n}\n","// =====================================================\n// Parallax class\n// =====================================================\n\nconst DATA_ATTRIBUTE = 'data-parallax';\nconst DEFAULT_OPTIONS = {\n    scrollSpeed: 2,\n};\n\nexport default class SparkleParallax {\n    /**\n     * The default options\n     */\n    static options = DEFAULT_OPTIONS;\n\n    /**\n     * The Parallax constructor\n     *\n     * @param {HTMLElement} element\n     * @param {Object} options\n     */\n    constructor(element, options = {}) {\n        this.element = element;\n        this.options = {\n            ...SparkleParallax.options,\n            ...options,\n            ...(JSON.parse(this.element.getAttribute(DATA_ATTRIBUTE)) || {}),\n        };\n    }\n\n    /**\n     * Initialize the instance\n     */\n    mount() {\n        window.addEventListener('scroll', () => {\n            this.#setBackgroundPosition();\n        });\n\n        window.dispatchEvent(new Event('scroll'));\n    }\n\n    /**\n     * Set background position\n     */\n    #setBackgroundPosition() {\n        const scrollOffset = window.scrollY;\n        const elementOffset = this.element.offsetTop;\n        const yPosition = -((scrollOffset - elementOffset) / this.options.scrollSpeed);\n        const backgroundPosition = `50% ${yPosition}px`;\n\n        this.element.style.backgroundPosition = backgroundPosition;\n    }\n}\n"],"names":["classes","breakpoints","isMobile","preventClickOnEmptyLinks","emptyLink","e","activeClass","navOpenClass","parentClass","DATA_ATTRIBUTE","DEFAULT_OPTIONS","_SparkleNavbar","element","options","__privateAdd","_toggleMenu","_closeMenu","_toggleSubmenu","_handleLinkClick","__privateMethod","toggleMenu_fn","toggle","toggleSubmenu_fn","link","handleLinkClick_fn","closeMenu_fn","navbarItem","linkHref","__publicField","SparkleNavbar","_SparkleParallax","_setBackgroundPosition","setBackgroundPosition_fn","scrollOffset","elementOffset","backgroundPosition","SparkleParallax"],"mappings":"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"}